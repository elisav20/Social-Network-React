(this["webpackJsonpreact-social-network"]=this["webpackJsonpreact-social-network"]||[]).push([[1],{21:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b}));var r=n(6),a=n.n(r),s=n(7),i=n(3),u=n(41),c=n(8),o="samurai-network/auth/SET_USER_DATA",l={userId:null,email:null,login:null,isAuth:!1},d=function(e,t,n,r){return{type:o,payload:{userId:e,email:t,login:n,isAuth:r}}},f=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,s,i,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.me();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,s=r.id,i=r.email,u=r.login,t(d(s,i,u,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var r=Object(s.a)(a.a.mark((function r(s){var i,o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.login(e,t,n);case 2:0===(i=r.sent).data.resultCode?s(f()):(o=i.data.messages?i.data.messages[0]:"Some error",s(Object(u.a)("login",{_error:o})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},b=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.logout();case 2:0===e.sent.data.resultCode&&t(d(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;return t.type===o?Object(i.a)(Object(i.a)(Object(i.a)({},e),t.payload),{},{isAuth:t.payload.isAuth}):e}},214:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(40),i=n.n(s),u=function(e){e&&e instanceof Function&&n.e(8).then(n.bind(null,283)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),s(e),i(e)}))},c=n(28),o=n(29),l=n(31),d=n(30),f=n(11),p=n(2),b=function(){return Object(p.jsxs)("nav",{className:"nav",children:[Object(p.jsx)("div",{className:"nav__item",children:Object(p.jsx)(f.b,{className:"nav__link",to:"/profile",children:"Profile"})}),Object(p.jsx)("div",{className:"nav__item",children:Object(p.jsx)(f.b,{className:"nav__link",to:"/users",children:"Users"})}),Object(p.jsx)("div",{className:"nav__item",children:Object(p.jsx)(f.b,{className:"nav__link",to:"/dialogs",children:"Messages"})}),Object(p.jsx)("div",{className:"nav__item",children:Object(p.jsx)(f.b,{className:"nav__link",to:"/news",children:"News"})}),Object(p.jsx)("div",{className:"nav__item",children:Object(p.jsx)(f.b,{className:"nav__link",to:"/music",children:"Music"})}),Object(p.jsx)("div",{className:"nav__item",children:Object(p.jsx)(f.b,{className:"nav__link",to:"/settings",children:"Settings"})})]})},j=n(3),O=n(19),m=n(14),h=n(21),g=n.p+"static/media/logo.d700c320.svg",v=function(e){return Object(p.jsxs)("header",{className:"header",children:[Object(p.jsx)("img",{src:g,alt:"logo"}),Object(p.jsx)("div",{className:"login-block",children:e.isAuth?Object(p.jsxs)("div",{children:[e.login," ",Object(p.jsx)("button",{onClick:e.logout,children:"Logout"})]}):Object(p.jsx)(f.b,{to:"/login",children:"Login"})})]})},w=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)(v,Object(j.a)({},this.props))}}]),n}(a.a.Component),x=Object(m.d)(Object(O.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:h.d}))(w),_=n(4),k=n(6),y=n.n(k),S=n(7),E="samurai-network/app/INITIALIZED_SUCCESS",N={initialized:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;return t.type===E?Object(j.a)(Object(j.a)({},e),{},{initialized:!0}):e},C=n(47),I=n(75),T=n(64),A=n(51),D=n(71),L=n(70),U=Object(m.c)({profilePage:A.b,dialogsPage:T.a,usersPage:D.a,auth:h.a,form:L.a,app:P}),F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,z=Object(m.e)(U,F(Object(m.a)(I.a))),R=(n(214),a.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,286))}))),G=a.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,284))})),M=a.a.lazy((function(){return n.e(7).then(n.bind(null,285))})),B=a.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,287))})),V=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(p.jsxs)("div",{className:"app-wrapper",children:[Object(p.jsx)(x,{}),Object(p.jsx)(b,{}),Object(p.jsx)(r.Suspense,{fallback:Object(p.jsx)(C.a,{}),children:Object(p.jsx)("div",{className:"content",children:Object(p.jsxs)(_.d,{children:[Object(p.jsx)(_.b,{path:"/profile",element:Object(p.jsx)(G,{}),children:Object(p.jsx)(_.b,{path:":userId",element:Object(p.jsx)(G,{})})}),Object(p.jsx)(_.b,{path:"/dialogs/*",element:Object(p.jsx)(R,{})}),Object(p.jsx)(_.b,{path:"/users",element:Object(p.jsx)(M,{})}),Object(p.jsx)(_.b,{path:"/login",element:Object(p.jsx)(B,{})})]})})})]}):Object(p.jsx)(C.a,{})}}]),n}(a.a.Component),H=Object(m.d)(Object(O.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(S.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(h.b)());case 2:t({type:E});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(V),W=function(){return Object(p.jsx)(f.a,{children:Object(p.jsx)(O.a,{store:z,children:Object(p.jsx)(H,{})})})};n(215);i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(W,{})}),document.getElementById("root")),u()},47:function(e,t,n){"use strict";n(0);var r=n.p+"static/media/preloader.91c2aa94.svg",a=n(2);t.a=function(){return Object(a.jsx)("div",{className:"prelaoder",children:Object(a.jsx)("img",{src:r,alt:"preloader"})})}},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return h}));var r=n(6),a=n.n(r),s=n(7),i=n(18),u=n(3),c=n(8),o="samurai-network/profile/ADD-POST",l="samurai-network/profile/DELETE_POST",d="samurai-network/profile/SET_USER_PROFILE",f="samurai-network/profile/SET_USER_STATUS",p={profile:null,postsData:[{id:1,message:"Quisque id mi. Praesent vestibulum dapibus nibh. Nulla sit amet est. Praesent nec nisl a purus blandit viverra. Nulla sit amet est.",likesCount:10},{id:2,message:"Fusce vulputate eleifend sapien. Suspendisse nisl elit, rhoncus eget, elementum ac, condimentum eget, diam. Curabitur ullamcorper ultricies nisi.",likesCount:11},{id:3,message:"Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. Nullam dictum felis eu pede mollis pretium. Nulla porta dolor. Vivamus euismod mauris. Vestibulum facilisis, purus nec pulvinar iaculis, ligula mi congue nunc, vitae euismod ligula urna in dolor.",likesCount:0}],status:""},b=function(e){return{type:o,newPostText:e}},j=function(e){return{type:f,status:e}},O=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.getProfile(e);case 2:r=t.sent,n((a=r.data,{type:d,profile:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.getStatus(e);case 2:r=t.sent,n(j(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(j(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(u.a)(Object(u.a)({},e),{},{postsData:[].concat(Object(i.a)(e.postsData),[{id:5,message:t.newPostText,likesCount:0}])});case d:return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});case f:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case l:return Object(u.a)(Object(u.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!==t.id}))});default:return e}}},64:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(18),a=n(3),s="samurai-network/dialogs/SEND-MESSAGE",i={dialogsData:[{id:1,name:"Vasea"},{id:2,name:"Gheorghe"},{id:3,name:"Andrei"},{id:4,name:"Oleg"},{id:5,name:"Sasha"},{id:6,name:"Sveta"},{id:7,name:"Abdulah"}],messagesData:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"Yo"}]},u=function(e){return{type:s,newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return t.type===s?Object(a.a)(Object(a.a)({},e),{},{messagesData:[].concat(Object(r.a)(e.messagesData),[{id:5,message:t.newMessageBody,likesCount:0}])}):e}},71:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return x})),n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return y})),n.d(t,"f",(function(){return S}));var r=n(6),a=n.n(r),s=n(7),i=n(18),u=n(3),c=n(8),o=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(u.a)(Object(u.a)({},e),r):e}))},l="samurai-network/users/FOLLOW",d="samurai-network/users/UNFOLLOW",f="samurai-network/users/SET_USERS",p="samurai-network/users/SET_CURRENT_PAGE",b="samurai-network/users/SET_TOTAL_USERS_COUNT",j="samurai-network/users/TOGGLE_IS_FETCHING",O="samurai-network/users/TOGGLE_IS_FOLLOWING_PROGRESS",m={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},h=function(e){return{type:l,userId:e}},g=function(e){return{type:d,userId:e}},v=function(e){return{type:p,currentPage:e}},w=function(e){return{type:j,isFetching:e}},x=function(e,t){return{type:O,isFetching:e,userId:t}},_=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(w(!0)),r(v(e)),n.next=4,c.c.getUsers(e,t);case 4:s=n.sent,r(w(!1)),r((i=s.items,{type:f,users:i})),r((a=s.totalCount,{type:b,count:a}));case 8:case"end":return n.stop()}var a,i}),n)})));return function(e){return n.apply(this,arguments)}}()},k=function(){var e=Object(s.a)(a.a.mark((function e(t,n,r,s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(x(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(s(n)),t(x(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),y=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",k(n,e,c.c.follow.bind(c.c),h));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",k(n,e,c.c.unfollow.bind(c.c),g));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(u.a)(Object(u.a)({},e),{},{users:o(e.users,t.userId,"id",{followed:!0})});case d:return Object(u.a)(Object(u.a)({},e),{},{users:o(e.users,t.userId,"id",{followed:!1})});case f:return Object(u.a)(Object(u.a)({},e),{},{users:Object(i.a)(t.users)});case p:return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case b:return Object(u.a)(Object(u.a)({},e),{},{totalUsersCount:t.count});case j:return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.isFetching});case O:return Object(u.a)(Object(u.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(i.a)(e.followingInProgress),[t.userId]):[e.followingInProgress.filter((function(e){return e!==t.userId}))]});default:return e}}},8:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var r=n(73),a=r.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"3c7c7e3b-795d-4983-977b-cd3c7549fe60"}}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return a.post("follow/".concat(e))},unfollow:function(e){return a.delete("follow/".concat(e))}},i={getProfile:function(e){return a.get("profile/".concat(e))},getStatus:function(e){return a.get("profile/status/".concat(e))},updateStatus:function(e){return a.put("profile/status",{status:e})}},u={me:function(){return a.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return a.delete("auth/login")}}}},[[216,2,3]]]);
//# sourceMappingURL=main.db3c9694.chunk.js.map